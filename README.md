# Python Project Model Template
This repository provides a [cookiecutter](https://cookiecutter.readthedocs.io/en/stable/) model template for compatibility with [LUME-services](https://slaclab.github.io/lume-services/) orchestration tooling.


## Tools
* conda
* click for cli dev
* versioneer (cookiecutter runs install during post-installation hook)
* pytest with coverage
* Common github actions
* [pydantic](https://pydantic-docs.helpmanual.io/) for use with data structures

## Use

1. Using your GitHub account, create an empty repository named my-project (feel free to sub this with whatever you'd like).


Clone repo and navigate to directory:

```
git clone https://github.com/jacquelinegarrahan/python-project-template
cd python-project-template
```

Create your environment:

```
conda env create -f environment.yml
conda activate python-project-template
```

Create your project. The `-o` flag indicates the directory where you'd like the resulting repo to be stored. For example, creating the project in the repo root:

```
cookiecutter template -o $(pwd)
```

Answer the prompts:
```
author: <your name>
email: <your email address>
github_username: <your GitHub username>
github_url: <url of GitHub repo you've just created>
project_name: My Project
```

Use autogenerated in brackets by just pressing enter or replace with custom:

```
repo_name [my-project]:
package [my_project]:
```

The  repo name should match the GitHub repository.  

Cookiecutter will render a repository using the template with the structure:

```
my-model
├── Dockerfile
├── MANIFEST.in
├── README.md
├── _entrypoint.sh
├── conftest.py
├── dev-environment.yml
├── environment.yml
├── my_model
│   ├── __init__.py
│   ├── _image.py
│   ├── _version.py
│   ├── files
│   │   ├── __init__.py
│   │   └── variables.yml
│   ├── flow.py
│   ├── model.py
│   └── tests
│       ├── __init__.py
│       └── test_flow.py
├── pytest.ini
├── requirements.txt
├── setup.cfg
├── setup.py
└── versioneer.py
```



### Notes
 - Jinja templating with GitHub actions requires raw blurbs

Conda vs pip installation
- runtime requirement should make an effor to only reference conda-forge distributions and include requirements as conda distributions for those necessarily installed with pip


